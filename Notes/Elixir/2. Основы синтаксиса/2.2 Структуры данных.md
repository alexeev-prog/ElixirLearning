## Общие сведения о структурах данных в Elixir

Структуры данных — фундаментальные строительные блоки программ на языке Elixir, обеспечивающие эффективное хранение, организацию и обработку информации. К основным встроенным структурам относятся списки, кортежи и ключевые списки. Каждая из них обладает уникальными свойствами, особенностями хранения данных, операциями доступа и модификации, а также специфическими сценариями применения.

Как говорилось в [[1.2 Особенности]], структуры неизменяемые.
## Списки

Список (_list_) — это упорядоченная коллекция элементов произвольного типа и длины. Списки в Elixir реализованы как односвязные списки, что обуславливает их семантику и эффективность операций.

### Синтаксис и основные свойства

- Обозначаются квадратными скобками: `[a, b, c]`
- Могут содержать элементы любого типа, в том числе другие списки
- Длина списка может быть произвольной
- Элементы располагаются в определённом порядке

### Внутреннее представление

Список — это рекурсивная структура: он либо пустой (`[]`), либо состоит из головы (_head_) и хвоста (_tail_), где `tail` сам является списком. Такое представление называется _cons cell_.

```bash
[head | tail]
```

Например:

```csharp
[1 | [2 | [3 | []]]]
```

### Операции над списками

- **Извлечение головы и хвоста:** `[h | t] = [1, 2, 3]` присваивает `h = 1`, `t = [2, 3]`
- **Конкатенация:** `++` объединяет списки: `[1, 2] ++ [3, 4] = [1, 2, 3, 4]`
- **Вычитание списка:** `--` удаляет элементы: `[1, 2, 3] -- [2] = [1, 3]`
- **Проверка принадлежности:** `in`: `2 in [1, 2, 3]` возвращает `true`
- **Доступ к элементу по индексу:** Используется модуль `Enum` или `List`

### Важные свойства

- Операции добавления в начало (_prepend_) выполняются за константное время `O(1)`
- Доступ к элементу по индексу и добавление в конец имеют линейную сложность `O(n)`
- Списки являются иммутабельными: любая модификация создает новый список

### Практические применения

- Итерируемые коллекции
- Рекурсивные алгоритмы обработки данных
- Стековые структуры

## Кортежи

Кортеж (_tuple_) — это упорядоченная последовательность элементов фиксированной длины. Кортежи удобны для представления агрегированных структур с известным числом компонентов.

### Синтаксис и основные свойства

- Обозначаются фигурными скобками: `{a, b, c}`
- Могут содержать элементы разных типов
- Длина кортежа фиксирована и задаётся при создании
- Элементы располагаются в определённом порядке

### Операции над кортежами

- **Создание:** `{:ok, 42}`
- **Доступ по индексу:** Используется модуль `elem/2`: `elem({:ok, 42}, 1) = 42`
- **Изменение значения:** Используется `put_elem/3`: `put_elem({:ok, 42}, 1, 100) = {:ok, 100}`
- **Сопоставление с образцом:** `{status, value} = {:ok, 42}`

### Важные свойства

- Быстрый доступ к элементу по индексу (`O(1)`)
- Неэффективны для добавления или удаления элементов — требуется создание нового кортежа
- Иммутабельность: любые изменения возвращают новый кортеж

### Практические применения

- Фиксированные наборы данных
- Возврат нескольких значений из функции
- Использование в сопоставлении с образцом для организации ветвления логики

## Ключевые списки

Ключевой список (_keyword list_) — это особый случай списка, элементы которого представляют собой пары вида `{ключ, значение}`. Ключи должны быть атомами. Ключевые списки часто применяются для передачи опций в функции или для хранения небольших ассоциативных данных.

### Синтаксис и основные свойства

- Записываются как обычные списки пар: `[{:a, 1}, {:b, 2}]`
- Сокращённая запись: `[a: 1, b: 2]`
- Ключи — атомы, значения — произвольные типы
- Могут содержать дублирующиеся ключи
- Порядок пар сохраняется

### Операции над ключевыми списками

- **Извлечение значения по ключу:** `Keyword.get([a: 1, b: 2], :b) = 2`
- **Добавление пары:** `list ++ [c: 3]`
- **Удаление пары по ключу:** `Keyword.delete([a: 1, b: 2], :a) = [b: 2]`
- **Проверка наличия ключа:** `Keyword.has_key?([a: 1], :a)`
- **Получение всех значений по ключу:** `Keyword.get_values([a: 1, a: 2], :a) = [1, 2]`

### Важные свойства

- Поиск по ключу имеет линейную сложность `O(n)`
- Сохраняется порядок вставки пар
- Позволяют использовать один и тот же ключ несколько раз
- Иммутабельность: операции создают новые списки

### Практические применения

- Передача опций и параметров функциям
- Реализация небольших ассоциативных коллекций с сохранением порядка
- Использование в качестве аргументов по умолчанию

## Сравнительная характеристика

|Структура|Порядок|Длина|Доступ по индексу|Доступ по ключу|Добавление/удаление|Иммутабельность|Особенности|
|---|---|---|---|---|---|---|---|
|Список|Да|Произвольная|Линейный (`O(n)`)|Нет|Быстро в начало, медленно в конец|Да|Односвязная структура, рекурсия|
|Кортеж|Да|Фиксированная|Константный (`O(1)`)|Нет|Неэффективно|Да|Агрегированные значения, быстрый доступ|
|Ключевой список|Да|Произвольная|Линейный|Линейный (`O(n)`)|Как у списка|Да|Пары ключ-значение с поддержкой дубликатов ключей|

## Заключительные замечания

Списки, кортежи и ключевые списки являются базовыми структурами данных в Elixir, каждая из которых предназначена для решения определённого класса задач. Глубокое понимание их особенностей, внутренних представлений и производительности позволяет разрабатывать эффективные и надёжные программы на языке Elixir.